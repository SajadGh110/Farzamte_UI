<section class="dashboard-wrapper">
  <app-dashboard-sidebar (formSubmitted)="OnUpdateDate()"></app-dashboard-sidebar>
  <section class="dashboard-main">
    <section class="row">
      <section class="detail">
        <h2>آمار تماس ها</h2>
      </section>
      <section class="loading-spinner" *ngIf="!flag_count">
        <mat-spinner></mat-spinner>
      </section>
      <section class="line-chart-c1" *ngIf="flag_count">
        <section echarts [options]="series_calls_count_day"></section>
      </section>
    </section>
    <section class="row">
      <section class="detail">
        <h2>آمار مشتریان</h2>
      </section>
      <section class="loading-spinner" *ngIf="!flag_g1">
        <mat-spinner></mat-spinner>
      </section>
      <section class="number-card-c2" *ngIf="flag_g1">
        <section class="card Customers_Count" (click)="Popup_List('Customers')"><p class="key">تعداد مشتریان</p><p class="value">{{Customers_Count}}</p></section>
        <section class="card Active_Customers_Count" (click)="Popup_List('Active_Customers')"><p class="key">مشتریان فعال</p><p class="value">{{Active_Customers_Count}}</p></section>
        <section class="card Inactive_Customers_Count" (click)="Popup_List('Inactive_Customers')"><p class="key">مشتریان غیرفعال</p><p class="value">{{Inactive_Customers_Count}}</p></section>
        <section class="card SuccessfulCalls_Count"><p class="key">تماس موفق</p><p class="value">{{SuccessfulCalls_Count}}</p></section>
        <section class="card ActiveAfterCalls_Count"><p class="key">فعال شدن پس از هپی کال</p><p class="value">{{ActiveAfterCalls_Count}}</p></section>
        <section class="card ActiveInOtherBrokers_Count"><p class="key">فعال در سایر کارگزاری ها</p><p class="value">{{ActiveInOtherBrokers_Count}}</p></section>
        <section class="card ExplanationClub_Count"><p class="key">ارائه توضیحات درمورد باشگاه مشتریان</p><p class="value">{{ExplanationClub_Count}}</p></section>
      </section>
      <section class="st_to_en" *ngIf="flag_g1">
        <p>{{st_to_en}}</p>
      </section>
      <section class="overlay" *ngIf="flag_popup">
        <section class="popup">
          <h2>List</h2>
          <a class="close" (click)="flag_popup = false;flag_popup_data = false">&times;</a>
          <section class="loading-spinner" *ngIf="!flag_popup_data">
            <mat-spinner></mat-spinner>
          </section>
          <section class="table" *ngIf="flag_popup_data">
            <section class="table-header">
              <section class="cell-header cell-large">نام و نام خانوادگی</section>
              <section class="cell-header">کدملی</section>
              <section class="cell-header">تلفن</section>
              <section class="cell-header cell-small">تعداد تماس</section>
            </section>
            <section *ngFor="let item of series_Popup_List" class="table-row">
              <section class="cell cell-large">{{item.customer}}</section>
              <section class="cell">{{item.nationalCode}}</section>
              <section class="cell">{{item.phoneNumber}}</section>
              <section class="cell cell-small">{{item.callCount}}</section>
            </section>
          </section>
        </section>
      </section>
    </section>
    <section class="row">
      <section class="detail">
        <h2>مسیر آشنایی با کارگزاری</h2>
      </section>
      <section class="loading-spinner" *ngIf="!flag_Introduction">
        <mat-spinner></mat-spinner>
      </section>
      <section class="pie-chart-c2" *ngIf="flag_Introduction">
        <section echarts [options]="series_Introduction"></section>
      </section>
    </section>
    <section class="row">
      <section class="detail">
        <h2>دلیل انتخاب کارگزاری</h2>
      </section>
      <section class="loading-spinner" *ngIf="!flag_ChoosingBrokerage">
        <mat-spinner></mat-spinner>
      </section>
      <section class="both-view" *ngIf="flag_ChoosingBrokerage">
        <section class="tree-map-c1" echarts [options]="series_ChoosingBrokerage_Active_tmp"></section>
        <section class="tree-map-c1" echarts [options]="series_ChoosingBrokerage_Inactive_tmp"></section>
      </section>
      <section class="st_to_en" *ngIf="flag_ChoosingBrokerage">
        <p>{{st_to_en}}</p>
      </section>
    </section>
    <section class="row">
      <section class="detail">
        <h2>گزارش ارتباطات</h2>
      </section>
      <section class="loading-spinner" *ngIf="!flag_g4">
        <mat-spinner></mat-spinner>
      </section>
      <section class="data-g4" *ngIf="flag_g4">
        <section class="table-g4">
          <section class="table-header-g4">
            <section class="table-header-none-g4"></section>
            <section class="cell-header-key-g4">تعداد کل ارتباطات</section>
            <section class="cell-header-value-g4">{{AllCalls_Count}}</section>
          </section>
          <section class="table-body-g4">
            <section class="table-column-lbl-g4">
              <section class="cell-lbl-g4">وضعیت تماس ها</section>
            </section>
            <section class="table-column-key-g4">
              <section class="cell-key-g4">جمع کل تماس موفق</section>
              <section class="cell-key-g4">تماس موفق مشتریان فعال</section>
              <section class="cell-key-g4">تماس موفق مشتریان غیرفعال</section>
              <section class="cell-key-g4">عدم تمایل به مکالمه</section>
              <section class="cell-key-g4">تماس مجدد</section>
              <section class="cell-key-g4">عدم اطلاع</section>
              <section class="cell-key-g4">تماس تکراری</section>
              <section class="cell-key-g4">عدم پاسخگویی</section>
              <section class="cell-key-g4">خاموش</section>
              <section class="cell-key-g4">رد کردن</section>
              <section class="cell-key-g4">غیر قابل دسترس</section>
              <section class="cell-key-g4">مشغول</section>
            </section>
            <section class="table-column-value-g4">
              <section class="cell-value-g4">{{SuccessfulCalls_Count}}</section>
              <section class="cell-value-g4">{{ActiveSuccessfulCalls_Count}}</section>
              <section class="cell-value-g4">{{InactiveSuccessfulCalls_Count}}</section>
              <section class="cell-value-g4">{{DisinclinationCalls_Count}}</section>
              <section class="cell-value-g4">{{ReCalls_Count}}</section>
              <section class="cell-value-g4">{{LackInfoCalls_Count}}</section>
              <section class="cell-value-g4">{{RepeatCalls_Count}}</section>
              <section class="cell-value-g4">{{UnResponsiveCalls_Count}}</section>
              <section class="cell-value-g4">{{OffCalls_Count}}</section>
              <section class="cell-value-g4">{{RejectCalls_Count}}</section>
              <section class="cell-value-g4">{{UnavailableCalls_Count}}</section>
              <section class="cell-value-g4">{{BusyCalls_Count}}</section>
            </section>
          </section>
        </section>
      </section>
    </section>
  </section>
</section>
